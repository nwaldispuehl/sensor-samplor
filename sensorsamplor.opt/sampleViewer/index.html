<!doctype>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="rickshaw/rickshaw.min.css">
    <script src="rickshaw/vendor/d3.min.js"></script>
    <script src="rickshaw/vendor/d3.layout.min.js"></script>
    <script src="rickshaw/rickshaw.min.js"></script>
    <script src="jquery/jquery-2.1.3.min.js"></script>
</head>
<body>
<div id="chart"></div>

<script>

console.log("SensorSamplor data viewer");

$.getJSON("./export.json", function(json) {
    var load = json["myNode"]["systemStats"]["load"];

    var sampleData = new Array();

    for (key in load) {
      var value = load[key];
      console.log(value);


      sampleData.push({x : 123, y : 456});
      //for (i in value) {
        //console.log(value[i]);
      //}
    }


    /*
    jQuery.each(load, function() {
      data[] = {x : this['timestamp'], y : this['value']};
    });
    */

    console.log(sampleData);

        //sampleData = [{x: 1, y: 1}, {x: 2, y: 2}, {x: 3, y: 3}];

    var graph = new Rickshaw.Graph( {
        element: document.querySelector("#chart"),
        width: 580,
        height: 250,
        series: [ {
            color: 'steelblue',
            data: sampleData
        } ]
    } );

    var axes = new Rickshaw.Graph.Axis.Time( { graph: graph } );
    graph.render();
});

</script>
</body>